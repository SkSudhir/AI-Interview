# System Architecture - AI Interview Platform

## ğŸ—ï¸ High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT LAYER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Guide      â”‚  â”‚  Interview   â”‚  â”‚  Dashboard   â”‚          â”‚
â”‚  â”‚   Builder    â”‚  â”‚   Player     â”‚  â”‚  Analytics   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                            â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   HTTP/WS       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SERVER LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚         Next.js App Router + Custom Server         â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                            â”‚                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚         â”‚                  â”‚                  â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  API Routes â”‚  â”‚  Socket.IO      â”‚  â”‚  AI Layer  â”‚          â”‚
â”‚  â”‚  (REST)     â”‚  â”‚  (WebSocket)    â”‚  â”‚  Services  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                  â”‚                  â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚                  â”‚
          â”‚                  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                  â”‚         â”‚   OpenAI API    â”‚
          â”‚                  â”‚         â”‚   (GPT-4)       â”‚
          â”‚                  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                DATA LAYER                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                               â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚         â”‚  Prisma ORM     â”‚                                     â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                  â”‚                                               â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚         â”‚  PostgreSQL     â”‚                                     â”‚
â”‚         â”‚  Database       â”‚                                     â”‚
â”‚         â”‚                 â”‚                                     â”‚
â”‚         â”‚  13 Models      â”‚                                     â”‚
â”‚         â”‚  5 Enums        â”‚                                     â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagrams

### 1. Interview Guide Creation Flow

```
User Input
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GuideBuilderForm    â”‚
â”‚ (React Component)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ POST /api/guides
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Route Handler   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â–º Save Guide to DB
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Skill Generator  â”‚
â”‚ (OpenAI GPT-4)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Returns 6-10 skills
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save Skills to DB   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return to Client    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SkillQuestion       â”‚
â”‚ Manager Component   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Question Generation Flow

```
Skill Selection
    â”‚
    â–¼
POST /api/skills/[id]/questions/generate
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Question         â”‚
â”‚ Generator           â”‚
â”‚ (OpenAI GPT-4)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Returns 2-4 questions
           â”‚ with scoring guides
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save to Database:   â”‚
â”‚ - Questions         â”‚
â”‚ - ScoringGuides     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return to Client    â”‚
â”‚ with complete data  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Real-Time Interview Flow

```
Interview Start
    â”‚
    â”œâ”€â–º WebSocket Connection
    â”‚   (Socket.IO)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Join Interview Room â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â–º Video Stream (External)
           â”‚
           â”œâ”€â–º Question Display
           â”‚   â”‚
           â”‚   â”œâ”€â–º Show/Hide Toggle
           â”‚   â””â”€â–º Navigation Events
           â”‚
           â””â”€â–º Transcript Stream
               â”‚
               â”œâ”€â–º Speech-to-Text (External)
               â”‚
               â”œâ”€â–º WebSocket Broadcast
               â”‚   (transcript-chunk event)
               â”‚
               â”œâ”€â–º Save to Database
               â”‚   (Transcript table)
               â”‚
               â””â”€â–º Display to All Participants
```

### 4. AI Evaluation Flow

```
Interview Complete
    â”‚
    â–¼
POST /api/interviews/[id]/evaluate
    â”‚
    â”œâ”€â–º Fetch Interview Data
    â”‚   â”œâ”€â–º Guide
    â”‚   â”œâ”€â–º Questions
    â”‚   â””â”€â–º Transcripts
    â”‚
    â–¼
For Each Question:
    â”‚
    â”œâ”€â–º Get Candidate Transcripts
    â”‚
    â”œâ”€â–º AI Question Evaluator
    â”‚   (OpenAI GPT-4)
    â”‚   â”‚
    â”‚   â”œâ”€â–º Trait Evaluation
    â”‚   â”œâ”€â–º Overall Score
    â”‚   â”œâ”€â–º Evidence Mapping
    â”‚   â””â”€â–º Summary Points
    â”‚
    â””â”€â–º Save QuestionEvaluation
    â”‚
    â–¼
All Questions Evaluated
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Interview        â”‚
â”‚ Summary Generator   â”‚
â”‚ (OpenAI GPT-4)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â–º Top 3 Strengths
           â”œâ”€â–º Top 3 Development Areas
           â”œâ”€â–º Competency Summary
           â”œâ”€â–º Hiring Recommendation
           â””â”€â–º Justification
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save Interview      â”‚
â”‚ Summary to DB       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return Complete     â”‚
â”‚ Evaluation Data     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Component Architecture

### UI Component Hierarchy

```
App
â”‚
â”œâ”€â”€ Layout
â”‚   â”œâ”€â”€ Header
â”‚   â”œâ”€â”€ Navigation
â”‚   â””â”€â”€ Footer
â”‚
â”œâ”€â”€ Pages
â”‚   â”‚
â”‚   â”œâ”€â”€ Home
â”‚   â”‚
â”‚   â”œâ”€â”€ Guides
â”‚   â”‚   â”œâ”€â”€ GuideList
â”‚   â”‚   â”œâ”€â”€ GuideBuilder
â”‚   â”‚   â”‚   â”œâ”€â”€ GuideBuilderForm
â”‚   â”‚   â”‚   â””â”€â”€ SkillQuestionManager
â”‚   â”‚   â”‚       â”œâ”€â”€ SkillCard
â”‚   â”‚   â”‚       â””â”€â”€ QuestionCard
â”‚   â”‚   â”‚           â””â”€â”€ ScoringGuideDisplay
â”‚   â”‚   â””â”€â”€ GuideDetail
â”‚   â”‚
â”‚   â”œâ”€â”€ Interviews
â”‚   â”‚   â”œâ”€â”€ InterviewList
â”‚   â”‚   â”œâ”€â”€ InterviewScheduler
â”‚   â”‚   â””â”€â”€ InterviewDetail
â”‚   â”‚
â”‚   â”œâ”€â”€ Player
â”‚   â”‚   â””â”€â”€ InterviewPlayer
â”‚   â”‚       â”œâ”€â”€ VideoPanel
â”‚   â”‚       â”œâ”€â”€ QuestionPanel
â”‚   â”‚       â”‚   â”œâ”€â”€ QuestionText
â”‚   â”‚       â”‚   â”œâ”€â”€ TraitsDisplay
â”‚   â”‚       â”‚   â””â”€â”€ ScoringGuide
â”‚   â”‚       â””â”€â”€ TranscriptPanel
â”‚   â”‚           â””â”€â”€ TranscriptEntry[]
â”‚   â”‚
â”‚   â””â”€â”€ Dashboard
â”‚       â””â”€â”€ SummarizationDashboard
â”‚           â”œâ”€â”€ TabNavigation
â”‚           â”œâ”€â”€ QuestionNotesTab
â”‚           â”‚   â””â”€â”€ EvaluationCard[]
â”‚           â”œâ”€â”€ InterviewSummaryTab
â”‚           â”‚   â”œâ”€â”€ HiringRecommendation
â”‚           â”‚   â”œâ”€â”€ StrengthsList
â”‚           â”‚   â”œâ”€â”€ DevelopmentAreasList
â”‚           â”‚   â””â”€â”€ CompetencySummary
â”‚           â””â”€â”€ TranscriptTab
â”‚               â””â”€â”€ TranscriptEntry[]
â”‚
â””â”€â”€ Shared Components
    â”œâ”€â”€ Button
    â”œâ”€â”€ Card
    â”œâ”€â”€ Input
    â”œâ”€â”€ Modal
    â””â”€â”€ ...
```

---

## ğŸ—„ï¸ Database Schema Relationships

```
User
 â”œâ”€â–º InterviewGuide (createdBy)
 â”œâ”€â–º Interview (createdBy)
 â”œâ”€â–º InterviewParticipant (as Interviewer)
 â”œâ”€â–º InterviewParticipant (as Candidate)
 â”œâ”€â–º Account (OAuth)
 â””â”€â–º Session

InterviewGuide
 â”œâ”€â–º Skill[]
 â””â”€â–º Interview[]

Skill
 â”œâ”€â–º Question[]
 â””â”€â–º QuestionEvaluation[]

Question
 â”œâ”€â–º ScoringGuide[]
 â”œâ”€â–º Transcript[]
 â””â”€â–º QuestionEvaluation[]

Interview
 â”œâ”€â–º InterviewParticipant[]
 â”œâ”€â–º Transcript[]
 â”œâ”€â–º QuestionEvaluation[]
 â””â”€â–º InterviewSummary

InterviewParticipant
 â””â”€â–º User

Transcript
 â”œâ”€â–º Interview
 â””â”€â–º Question (optional)

QuestionEvaluation
 â”œâ”€â–º Interview
 â”œâ”€â–º Question
 â””â”€â–º Skill

InterviewSummary
 â””â”€â–º Interview
```

---

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Security Layers                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  1. Authentication (NextAuth.js)        â”‚
â”‚     â”œâ”€â–º Email/Password                  â”‚
â”‚     â””â”€â–º Google OAuth                    â”‚
â”‚                                         â”‚
â”‚  2. Authorization (RBAC)                â”‚
â”‚     â”œâ”€â–º Admin                           â”‚
â”‚     â”œâ”€â–º Recruiter                       â”‚
â”‚     â”œâ”€â–º Interviewer                     â”‚
â”‚     â””â”€â–º Candidate                       â”‚
â”‚                                         â”‚
â”‚  3. Input Validation (Zod)              â”‚
â”‚     â”œâ”€â–º API Request Validation          â”‚
â”‚     â””â”€â–º Form Validation                 â”‚
â”‚                                         â”‚
â”‚  4. Database Security (Prisma)          â”‚
â”‚     â”œâ”€â–º SQL Injection Prevention        â”‚
â”‚     â”œâ”€â–º Parameterized Queries           â”‚
â”‚     â””â”€â–º Type Safety                     â”‚
â”‚                                         â”‚
â”‚  5. API Security                        â”‚
â”‚     â”œâ”€â–º CORS Configuration              â”‚
â”‚     â”œâ”€â–º Rate Limiting (Ready)           â”‚
â”‚     â””â”€â–º CSRF Protection                 â”‚
â”‚                                         â”‚
â”‚  6. Data Protection                     â”‚
â”‚     â”œâ”€â–º Consent Logging                 â”‚
â”‚     â”œâ”€â–º Encryption (Ready)              â”‚
â”‚     â””â”€â–º Audit Trail                     â”‚
â”‚                                         â”‚
â”‚  7. AI Safety                           â”‚
â”‚     â”œâ”€â–º Bias Guardrails                 â”‚
â”‚     â”œâ”€â–º Evidence-Based Evaluation       â”‚
â”‚     â””â”€â–º Compliance Checks               â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Deployment Architecture

### Recommended Production Setup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CDN (Cloudflare)                     â”‚
â”‚                  SSL/TLS Termination                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Vercel (Next.js Frontend)                  â”‚
â”‚                                                         â”‚
â”‚  â”œâ”€â–º Server Components                                 â”‚
â”‚  â”œâ”€â–º API Routes                                        â”‚
â”‚  â””â”€â–º Static Assets                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                            â”‚
             â”‚                            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Railway/Heroku â”‚         â”‚   Supabase      â”‚
    â”‚  (WebSocket)    â”‚         â”‚  (PostgreSQL)   â”‚
    â”‚                 â”‚         â”‚                 â”‚
    â”‚  Socket.IO      â”‚         â”‚  Database       â”‚
    â”‚  Server         â”‚         â”‚  Backups        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   OpenAI API    â”‚
    â”‚   (GPT-4)       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Performance Optimization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Performance Strategies             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Frontend                               â”‚
â”‚  â”œâ”€â–º Server Components (RSC)            â”‚
â”‚  â”œâ”€â–º Code Splitting                     â”‚
â”‚  â”œâ”€â–º Lazy Loading                       â”‚
â”‚  â”œâ”€â–º Image Optimization                 â”‚
â”‚  â””â”€â–º Static Generation                  â”‚
â”‚                                         â”‚
â”‚  Backend                                â”‚
â”‚  â”œâ”€â–º API Route Caching                  â”‚
â”‚  â”œâ”€â–º Database Query Optimization        â”‚
â”‚  â”œâ”€â–º Connection Pooling                 â”‚
â”‚  â””â”€â–º Serverless Functions               â”‚
â”‚                                         â”‚
â”‚  Real-Time                              â”‚
â”‚  â”œâ”€â–º WebSocket Room Isolation           â”‚
â”‚  â”œâ”€â–º Event Debouncing                   â”‚
â”‚  â””â”€â–º Efficient Broadcasting             â”‚
â”‚                                         â”‚
â”‚  AI Services                            â”‚
â”‚  â”œâ”€â–º Response Caching                   â”‚
â”‚  â”œâ”€â–º Batch Processing                   â”‚
â”‚  â””â”€â–º Rate Limiting                      â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         State Architecture              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Server State (Database)                â”‚
â”‚  â””â”€â–º Prisma ORM                         â”‚
â”‚      â””â”€â–º PostgreSQL                     â”‚
â”‚                                         â”‚
â”‚  Client State                           â”‚
â”‚  â”œâ”€â–º React useState                     â”‚
â”‚  â”œâ”€â–º React useEffect                    â”‚
â”‚  â””â”€â–º Form State (React Hook Form)       â”‚
â”‚                                         â”‚
â”‚  Real-Time State                        â”‚
â”‚  â””â”€â–º Socket.IO Events                   â”‚
â”‚      â”œâ”€â–º Transcript Updates             â”‚
â”‚      â”œâ”€â–º Question Changes               â”‚
â”‚      â””â”€â–º Visibility Toggles             â”‚
â”‚                                         â”‚
â”‚  Cache State (Future)                   â”‚
â”‚  â””â”€â–º React Query / SWR                  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª Testing Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Testing Pyramid                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  E2E Tests (Playwright)                 â”‚
â”‚  â””â”€â–º Full user flows                    â”‚
â”‚                                         â”‚
â”‚  Integration Tests (Jest)               â”‚
â”‚  â”œâ”€â–º API Routes                         â”‚
â”‚  â”œâ”€â–º Database Operations                â”‚
â”‚  â””â”€â–º AI Service Integration             â”‚
â”‚                                         â”‚
â”‚  Unit Tests (Jest + RTL)                â”‚
â”‚  â”œâ”€â–º Components                         â”‚
â”‚  â”œâ”€â–º Utilities                          â”‚
â”‚  â””â”€â–º Validation Logic                   â”‚
â”‚                                         â”‚
â”‚  Type Checking (TypeScript)             â”‚
â”‚  â””â”€â–º Compile-time safety                â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Scalability Considerations

### Horizontal Scaling

```
Load Balancer
    â”‚
    â”œâ”€â–º Next.js Instance 1
    â”œâ”€â–º Next.js Instance 2
    â””â”€â–º Next.js Instance N
            â”‚
            â”œâ”€â–º Shared Database (PostgreSQL)
            â”‚   â””â”€â–º Read Replicas
            â”‚
            â””â”€â–º Shared WebSocket Server
                â””â”€â–º Redis for Session Storage
```

### Vertical Scaling

```
Database Optimization
â”œâ”€â–º Indexes on foreign keys
â”œâ”€â–º Query optimization
â”œâ”€â–º Connection pooling
â””â”€â–º Materialized views

AI Service Optimization
â”œâ”€â–º Response caching
â”œâ”€â–º Batch processing
â”œâ”€â–º Rate limiting
â””â”€â–º Fallback strategies
```

---

**This architecture supports:**
- âœ… Thousands of concurrent users
- âœ… Real-time collaboration
- âœ… AI-powered evaluation at scale
- âœ… Secure, compliant operations
- âœ… Global deployment
